{% extends "./plantilla.html" %}
{% block contenido %}
{% load static %}


<div style="padding: 60px 30px 200px 30px;">
  <div class="row">
    <div class="col-md-2">

    </div>
    <div class="col-md-8">
      <form class="" action="/procesarinformacionDetalle/" method="post" enctype="multipart/form-data" id="frm_nuevo_cliente">
        {% csrf_token %}
        <b>Pedido:</b><br>
        <select class="form-control" name="id_pedido" id="id_pedido" required>
          <option value="">---SELECCIONE EL PEDIDO---</option >
          {%  for pedido in pedidos %}
          <option value="{{pedido.id_pe_vj}}">{{pedido.estadope_vj}}</option>
          {% endfor %}
        </select><br>
        <b>Platillo:</b><br>
        <select class="form-control" name="id_platillo" id="id_platillo" required>
          <option value="">---SELECCIONE EL PLATILLO---</option >
          {%  for platillo in platillos %}
          <option value="{{platillo.id_pla_vj}}">{{platillo.nombre_vj}}</option>
          {% endfor %}
        </select><br>
        <script type="text/javascript">
         document.getElementById("id_pedido").value="{{detalle.pedido_vj.id_pe_vj}}";
         document.getElementById("id_platillo").value="{{detalle.platillo_vj.id_pla_vj}}";

       </script>

        <input type="hidden" name="id_de_vj" value="{{detalle.id_de_vj}}">
        <b>Cantidad:</b><br>
       <input type="text" name="cantidad_vj" value="{{detalle.cantidad_vj}}" id="cantidad_vj" placeholder="Ingrese la Cantidad" class="form-control" required><br>
       <b>Precio Unitario:</b><br>
       <input type="text" name="preciounitario_vj" value="{{detalle.preciounitario_vj}}" id="preciounitario_vj" placeholder="Ingrese el precio unitario" class="form-control" required><br>
       <b>Descuento:</b>
       <input type="text" name="descuento_vj" value="{{detalle.descuento_vj}}" id="descuento_vj" placeholder="Ingrese el descuento" class="form-control" required><br>
       <b>Total:</b>
        <input type="text" name="total_vj" value="{{detalle.total_vj}}" id="total_vj" placeholder="Ingrese el total" class="form-control" required><br>
         <center>
           <button type="submit" name="button" class="btn btn-primary">&nbsp;&nbsp;<i class="fa-solid fa-pen"></i>&nbsp;Actualizar&nbsp;&nbsp;&nbsp;</button>
           <button type="reset" name="button" class="btn btn-warning" ><a href="/detalle" style="color:black; text-decoration: none;">&nbsp;&nbsp;<i class="fa-solid fa-xmark"></i>&nbsp;Cancelar&nbsp;&nbsp;&nbsp;</a></button>

         </center>




      </form>


    </div>

  </div>
</div>
</script>
<script type="text/javascript">
  $("#frm_nuevo_cliente").validate({
    rules:{
      "id_pedido":{
        required:true
      },
      "id_platillo":{
        required:true
      },
      "cantidad_vj":{
        required:true,
        number: true
      },
      "preciounitario_vj":{
        required:true,
        number: true
      },
      "descuento_vj":{
        required:true
      },
      "total_vj":{
        required:true,
        number: true
      }
    },
    messages:{
      "id_pedido":{
        required:"Escoja el Pedido"
      },
      "id_platillo":{
        required:"Escoja el platillo"
      },
      "cantidad_vj":{
        required:"Ingrese la cantidad",
        number: "Ingrese un valor numérico válido"

      },
      "preciounitario_vj":{
        required:"Ingrese el precio unitario",
        number: "Ingrese un valor numérico válido"
      },
      "descuento_vj":{
        required:"Ingrese el descuento"
      },
      "total_vj":{
        required:"Ingrese el total",
        number: "Ingrese un valor numérico válido"
      }
    }
  });
</script>



    {% endblock %}
